
exiftool -b -PreviewImage /Users/takashi/Pictures/source/2018-10-20/DSC00836.ARW > preview.jpg

exiftool -ThumbnailImage /Users/takashi/Pictures/source/2018-10-20/DSC00836.ARW


import pyexiv2
path='/Users/takashi/Pictures/source/2018-10-20/DSC00836.ARW'
md = pyexiv2.ImageMetadata(path)
md.read()
md.previews[1].write_to_file('/Users/takashi/exiv2_preview_write.jpg')

Import exiv2
path = '/Users/takashi/Documents/devl/photo_view/example_data/DSC00006.ARW'
img = exiv2.ImageFactory.open(path)
img.readMetadata()
data = img.exifData()

Https://github.com/jim-easterbrook/python-exiv2/tree/main/examples


### Build py3exiv2 ###
This needs to be done in system python with virtual env
- brew install boost-python3 exiv2
- download the source package from https://pypi.org/project/py3exiv2/
- extract the tar.gz
- edit setup.py
  - add include_dirs and library_dirs:
    include_dirs=['/opt/homebrew/Cellar/exiv2/0.28.7/include','/opt/homebrew/opt/libssh/include/','/opt/homebrew/Cellar/boost/1.90.0/include/'],
    library_dirs=['/opt/homebrew/Cellar/boost-python3/1.90.0/lib','/opt/homebrew/Cellar/exiv2/0.28.7/lib'],
- tar the package again: tar -czvf py3exiv2-0.12.0-edited.tar.gz py3exiv2-0.12.0/*
- pyenv shell system
- python3 -m venv photo_view/myenv
- source photo_view/myenv/bin/acitvaite
- pip install py3exiv2-0.12.0-edited.tar.gz



